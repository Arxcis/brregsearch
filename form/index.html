<!DOCTYPE html5>
<html>
    <head>
        <meta charset="utf-8"/>
    </head>
    <body>
        <form method="get" action="./">
            <h2>Hvilken epost kan vi n책 deg p책?</h2>
            <fieldset>
                <label>Navn p책 organisasjon</label>
                <input id="disabledNameInput" name="disabled-name" disabled>
                <input id="nameInput" type="hidden" name="name">
            </fieldset>
            <fieldset>
                <label>Epost</label>
                <input id="emailInput" name="email" value="" type="email" autofocus onfocus="this.select()">
            </fieldset>
            <fieldset id="buttonset">
                <a href="../">Tilbake</a>
                <button>G책 videre</button>
            </fieldset>
        </form>
    </body>
    <style>
        body { height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        fieldset { border: 0; padding: 10px 0 10px 0; display: flex; flex-direction: column; }
        button { margin: 10px 0; }
        #buttonset { justify-content: space-between; flex-direction: row; align-items: baseline;}
    </style>
    <script>
        window.addEventListener("load", () => {
            const disabledNameInput = document.querySelector("#disabledNameInput")
            const nameInput = document.querySelector("#nameInput")
            const emailInput = document.querySelector("#emailInput")

            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get("name") ?? "";
            const email = urlParams.get("email") ?? "";


            disabledNameInput.value = name
            nameInput.value = name
            emailInput.value = email
        })
    </script>
</html>